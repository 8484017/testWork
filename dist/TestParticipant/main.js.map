{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/participant-list/participant-item/participant-item.component.html","webpack:///./src/app/components/participant-list/participant-item/participant-item.component.scss","webpack:///./src/app/components/participant-list/participant-item/participant-item.component.ts","webpack:///./src/app/components/participant-list/participant-list.component.html","webpack:///./src/app/components/participant-list/participant-list.component.scss","webpack:///./src/app/components/participant-list/participant-list.component.ts","webpack:///./src/app/services/participant.service.ts","webpack:///./src/app/store/participant.store.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;;;;;ACZA,kU;;;;;;;;;;;ACAA,uBAAuB,qBAAqB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;ACAe;AAEO;AAUpE;IACE,sBACU,mBAAuC;QAAvC,wBAAmB,GAAnB,mBAAmB,CAAoB;IAC7C,CAAC;IAIL,+BAAQ,GAAR;QAAA,iBAGC;QAFC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,WAAC,IAAI,YAAI,CAAC,YAAY,GAAG,CAAC,EAArB,CAAqB,CAAC;QACrG,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE;IAC1C,CAAC;IAED,kCAAW,GAAX;QACE,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,EAAE;QAC3C,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE;IAClC,CAAC;IAfU,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAG+B,gFAAkB;OAFtC,YAAY,CAgBxB;IAAD,mBAAC;CAAA;AAhBwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZiC;AACjB;AAEM;AACI;AACT;AACqB;AACP;AAC0D;AACnC;AACqB;AAChC;AACZ;AAC6D;AA0BrH;IAAA;IAAyB,CAAC;IAAb,SAAS;QAzBrB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAY;gBACZ,gHAAwB;gBACxB,kIAAwB;aACzB;YACD,OAAO,EAAE;gBACP,uEAAa;gBACb,sEAAgB;gBAChB,+DAAa;gBACb,kEAAgB;gBAChB,+DAAa;gBACb,gEAAc;gBACd,+DAAa;gBACb,4FAAuB;gBACvB,qEAAgB,CAAC,UAAU,CAAC,EAAE,kBAAkB,EAAE,KAAK,EAAE,CAAC;gBAC1D,uDAAW,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,2EAAkB,EAAE,CAAC;aAC1D;YACD,SAAS,EAAE;gBACT,gEAAa;gBAEb,iFAAkB;aACnB;YACD,SAAS,EAAE,CAAC,2DAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;ACvCtB,oNAAoN,iBAAiB,sD;;;;;;;;;;;ACArO,4BAA4B,mBAAmB,kBAAkB,EAAE,eAAe,mBAAmB,kBAAkB,EAAE,cAAc,8BAA8B,EAAE,WAAW,sBAAsB,EAAE,WAAW,mBAAmB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;ACAjL;AAQzD;IAEE;IAAgB,CAAC;IAGjB,2CAAQ,GAAR;IACA,CAAC;IAHQ;QAAR,2DAAK,EAAE;;0DAAkB;IAHf,wBAAwB;QALpC,+DAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;;;SAGjC,CAAC;;OACW,wBAAwB,CAQpC;IAAD,+BAAC;CAAA;AARoC;;;;;;;;;;;;ACRrC,4NAA4N,+H;;;;;;;;;;;ACA5N,yBAAyB,8BAA8B,+BAA+B,2BAA2B,gBAAgB,EAAE,qBAAqB,gBAAgB,iBAAiB,oBAAoB,sBAAsB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;ACA5K;AAE4C;AAuBrG;IAEE;IAAgB,CAAC;IAEjB,sBAAI,8CAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAA1B,CAA0B,CAAC;QACrE,CAAC;;;OAAA;IAED,2CAAQ,GAAR;IAEA,CAAC;IAPQ;QAAR,2DAAK,EAAE;;kEAA4B;IAHzB,wBAAwB;QArBpC,+DAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;;;YAGhC,UAAU,EAAE;gBACV,mEAAO,CAAC,eAAe,EAAE;oBACvB,sEAAU,CAAC,QAAQ,EAAE;wBACnB,iEAAK,CAAC,QAAQ,EAAE,iEAAK,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;wBAClF,iEAAK,CAAC,QAAQ,EAAE,mEAAO,CAAC,MAAM,EAAE;4BAC9B,mEAAO,CAAC,cAAc,EAAE,qEAAS,CAAC;gCAChC,iEAAK,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;gCACxB,iEAAK,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;6BACvB,CAAC,CAAC;yBAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;wBAC5B,iEAAK,CAAC,QAAQ,EAAE,mEAAO,CAAC,cAAc,EAAE,qEAAS,CAAC;4BAChD,iEAAK,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;4BACtB,iEAAK,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;yBACzB,CAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;qBACzB,CAAC;iBACH,CAAC;aACH;SACF,CAAC;;OACW,wBAAwB,CAYpC;IAAD,+BAAC;CAAA;AAZoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBiB;AAEH;AACP;AAGM;AAKlD;IAEE,4BACU,MAAqB,EACrB,MAAgC,EAChC,IAAgB;QAFhB,WAAM,GAAN,MAAM,CAAe;QACrB,WAAM,GAAN,MAAM,CAA0B;QAChC,SAAI,GAAJ,IAAI,CAAY;IACtB,CAAC;IAGL,4CAAe,GAAf;QAAA,iBAGC;QAFC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAgB,kCAAkC,CAAC,CAAC,SAAS,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,CAAoB,EAAE,IAAI,EAAE,uBAAuB,EAAE,OAAO,EAAE,CAAQ,EAAE,CAAC,EAA7F,CAA6F,CAAC;QAC9K,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0DAAM,CAAC,cAAc,CAAC,CAAC;IACjD,CAAC;IAED,0CAAa,GAAb;QAAA,iBAeC;QAdC,IAAI,IAAI,CAAC,cAAc;YAAE,OAAM;QAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;YACnB,GAAG,EAAE,sBAAsB;YAC3B,KAAK,EAAE,+DAAS,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;YACjC,YAAY,EAAE,CAAC;YACf,OAAO,EAAE,EAAE;YACX,aAAa,EAAE,KAAK;YACpB,eAAe,EAAE,IAAI;SACtB;QACD,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;QAC5B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,WAAC;YACxE,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YAChC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QAC1F,CAAC,CAAC;IACJ,CAAC;IAGD,6CAAgB,GAAhB;QACE,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;QACjC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;IAC1B,CAAC;IAnCU,kBAAkB;QAH9B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAIkB,gEAAa;YACb,iDAAK;YACP,+DAAU;OALf,kBAAkB,CAqC9B;IAAD,yBAAC;CAAA;AArC8B;;;;;;;;;;;;;ACH/B;AAAA;AAAO,4BAA4B,KAAyB,EAAE,MAAyB;IAApD,kCAAyB;IACxD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACjB,KAAK,mBAAmB;YACpB,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACvC,OAAO,KAAK;QAEhB,KAAK,qBAAqB;YACtB,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,aAAa,EAArC,CAAqC,CAAC;YAChE,OAAO,KAAK;QAEhB,KAAK,kCAAkC;YACnC,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,aAAa,EAArC,CAAqC,CAAC;YACxE,IAAI,WAAW;gBAAE,WAAW,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc;YAClE,OAAO,KAAK,CAAC;QAEjB,KAAK,uBAAuB;YACxB,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,UAAC,GAAkB,EAAE,EAAE;gBAC/D,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAd,CAAc,CAAC,EAAE;oBAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;iBAAE;gBACpD,OAAO,GAAG;YACd,CAAC,EAAE,EAAE,CAAC;QACV;YACI,OAAO,KAAK,CAAC;KACpB;AACL,CAAC;;;;;;;;;;;;;AC/BD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AAE9B;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<div FxLayout fxLayoutAlign=\\\"center start\\\">\\n    <div class=\\\"bg\\\" fxFlex.md=\\\"70%\\\" fxFlex.sm=\\\"60%\\\" fxFlex.gt-md=\\\"80%\\\">\\n        <app-participant-list fxFlexOffset.gt-md=\\\"70%\\\" fxFlex.gt-md=\\\"30%\\\" fxFlex=\\\" 100%\\\" [participants]=\\\"this.participants\\\"></app-participant-list>\\n    </div>\\n</div>\"","module.exports = \".bg {\\n  background: #ddd; }\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ParticipantService } from './services/participant.service';\nimport { Participant } from './models/participant.model';\n\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  constructor(\n    private _participantService: ParticipantService,\n  ) { }\n\n  private participants$: Subscription\n  participants: Participant[]\n  ngOnInit(): void {\n    this.participants$ = this._participantService.getParticipants().subscribe(s => this.participants = s)\n    this._participantService.connectSocket()\n  }\n\n  ngOnDestroy(): void {\n    this._participantService.disconnectSocket()\n    this.participants$.unsubscribe()\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { StompRService } from \"@stomp/ng2-stompjs\";\nimport { StoreModule } from '@ngrx/store';\nimport { participantReducer } from './store/participant.store';\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\nimport { MatCardModule, MatListModule, MatIconModule, MatDividerModule, MatBadgeModule } from \"@angular/material\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { ParticipantListComponent } from './components/participant-list/participant-list.component';\nimport { ParticipantService } from './services/participant.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ParticipantItemComponent } from './components/participant-list/participant-item/participant-item.component';\n@NgModule({\n  declarations: [\n    AppComponent,\n    ParticipantListComponent,\n    ParticipantItemComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    MatCardModule,\n    MatDividerModule,\n    MatListModule,\n    MatBadgeModule,\n    MatIconModule,\n    BrowserAnimationsModule,\n    FlexLayoutModule.withConfig({ useColumnBasisZero: false }),\n    StoreModule.forRoot({ participants: participantReducer })\n  ],\n  providers: [\n    StompRService,\n\n    ParticipantService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"<mat-list-item [ngClass]=\\\"[item.ready ? '':'offline']\\\">\\n  <mat-icon class=\\\"icon\\\" [ngClass]=\\\"[item.ready ? 'icon-on': 'icon-off']\\\">account_circle</mat-icon>\\n  <p class=\\\"mat-caption\\\"> {{item.identifier}}</p>\\n  <mat-divider></mat-divider>\\n</mat-list-item>\"","module.exports = \".icon-on {\\n  color: #3bcf00;\\n  fill: #a6fc91; }\\n\\n.icon-off {\\n  color: #f32727;\\n  fill: #facf57; }\\n\\n.offline {\\n  background-color: #fff5f5; }\\n\\n.icon {\\n  margin-right: 4px; }\\n\\n:host {\\n  display: block; }\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Participant } from '../../../models/participant.model';\n\n@Component({\n  selector: 'app-participant-item',\n  templateUrl: './participant-item.component.html',\n  styleUrls: ['./participant-item.component.scss'],\n})\nexport class ParticipantItemComponent implements OnInit {\n\n  constructor() { }\n  @Input() item: Participant\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<mat-list class=\\\"list\\\" [@listAnimation]=\\\"participants.length\\\">\\n  <div mat-subheader>\\n    <h3>Участники: </h3>\\n  </div>\\n  <mat-divider></mat-divider>\\n  <div *ngFor=\\\"let participant of partSort; trackBy: participant?.id \\\">\\n    <app-participant-item [item]=\\\"participant\\\"></app-participant-item>\\n  </div>\\n</mat-list>\"","module.exports = \".list {\\n  background-color: #fafafa;\\n  border-radius: 0 0 6px 6px;\\n  border: 1px solid #ddd;\\n  margin: 4px; }\\n\\n.material-icons {\\n  width: 26px;\\n  height: 26px;\\n  font-size: 26px;\\n  margin-right: 4px; }\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Participant } from '../../models/participant.model';\nimport { trigger, transition, style, animate, query, stagger, keyframes } from '@angular/animations';\n\n@Component({\n  selector: 'app-participant-list',\n  templateUrl: './participant-list.component.html',\n  styleUrls: ['./participant-list.component.scss'],\n  animations: [\n    trigger('listAnimation', [\n      transition('* => *', [\n        query(':enter', style({ height: \"0px\", overflow: 'hidden', }), { optional: true }),\n        query(':enter', stagger('50ms', [\n          animate('0.1s ease-in', keyframes([\n            style({ height: \"0px\" }),\n            style({ height: '*' }),\n          ]))]), { optional: true }),\n        query(':leave', animate('0.1s ease-in', keyframes([\n          style({ height: '*' }),\n          style({ height: \"0px\" }),\n        ])), { optional: true }),\n      ])\n    ]),\n  ]\n})\nexport class ParticipantListComponent implements OnInit {\n\n  constructor() { }\n  @Input() participants: Participant[]\n  get partSort() {\n    return this.participants.sort((a, b) => a.ready < b.ready ? 1 : -1)\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n","import { Injectable, isDevMode } from '@angular/core';\nimport { Subscription, Observable } from 'rxjs';\nimport { StompRService } from '@stomp/ng2-stompjs';\nimport { Store, select } from '@ngrx/store';\nimport { ParticipantAction } from '../store/participant.store';\nimport { Participant } from '../models/participant.model';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ParticipantService {\n\n  constructor(\n    private _stomp: StompRService,\n    private _store: Store<ParticipantAction>,\n    private http: HttpClient\n  ) { }\n  private _subscription$: Subscription\n\n  getParticipants(): Observable<Participant[]> {\n    this.http.get<Participant[]>(\"http://89.223.27.70/participants\").subscribe(s => this._store.dispatch<ParticipantAction>({ type: \"PARTICIPANT_ADD_RANGE\", message: s as any }))\n    return this._store.pipe(select(\"participants\"))\n  }\n\n  connectSocket() {\n    if (this._subscription$) return\n    this._stomp.config = {\n      url: 'ws://89.223.27.70/ws',\n      debug: isDevMode() ? true : false,\n      heartbeat_in: 0,\n      headers: {},\n      heartbeat_out: 20000,\n      reconnect_delay: 5000\n    }\n    this._stomp.initAndConnect()\n    this._subscription$ = this._stomp.subscribe('/topic/messages').subscribe(s => {\n      let message = JSON.parse(s.body)\n      this._store.dispatch<ParticipantAction>({ type: message.messageType, message: message })\n    })\n  }\n\n\n  disconnectSocket() {\n    this._subscription$.unsubscribe()\n    this._stomp.disconnect()\n  }\n\n}\n","import { Participant, ParticipantAddedMessage, ParticipantDeletedMessage, ReadyStatusChangedMessage } from '../models/participant.model';\n\n\nexport interface ParticipantAction {\n    type: \"PARTICIPANT_ADDED\" | \"PARTICIPANT_REMOVED\" | \"PARTICIPANT_READY_STATUS_CHANGED\" | \"PARTICIPANT_ADD_RANGE\"\n    message: ParticipantAddedMessage & ParticipantDeletedMessage & ReadyStatusChangedMessage & Participant[]\n}\n\nexport function participantReducer(state: Participant[] = [], action: ParticipantAction) {\n    switch (action.type) {\n        case \"PARTICIPANT_ADDED\":\n            state.push(action.message.participant);\n            return state\n\n        case \"PARTICIPANT_REMOVED\":\n            state = state.filter(s => s.id !== action.message.participantId)\n            return state\n\n        case \"PARTICIPANT_READY_STATUS_CHANGED\":\n            let participant = state.find(s => s.id === action.message.participantId)\n            if (participant) participant.ready = action.message.newReadyStatus\n            return state;\n\n        case \"PARTICIPANT_ADD_RANGE\":\n            state = state.concat(action.message).reduce((ret: Participant[], el) => {\n                if (!ret.some(s => s.id === el.id)) { ret.push(el) }\n                return ret\n            }, [])\n        default:\n            return state;\n    }\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n"],"sourceRoot":""}